---
title: "Verificaciones estáticas"
anterior: "[[Biblioteca/The C++ Programming Language - Bjarne Stroustrup/2 - Un Tour Por C++ - Lo Básico/4.3.2 - Invariantes]]"
siguiente: "[[Biblioteca/The C++ Programming Language - Bjarne Stroustrup/2 - Un Tour Por C++ - Lo Básico/_index|2 - Un Tour Por C++ - Lo Básico]]"

---

Las **excepciones** reportan errores encontrados en **tiempo de ejecución**. Si un error puede detectarse en **tiempo de compilación**, generalmente es **preferible** hacerlo. Para esto sirve buena parte del **sistema de tipos** y de las facilidades para **especificar interfaces de tipos definidos por el usuario**.

Sin embargo, también podemos realizar **verificaciones simples** sobre propiedades conocidas en tiempo de compilación y reportar fallos como **mensajes de error del compilador**. Por ejemplo:

```cpp
static_assert(4 <= sizeof(int), "los enteros son demasiado pequeños");
```

Esto imprimirá `"los enteros son demasiado pequeños"` si `4 <= sizeof(int)` **no se cumple**, es decir, si un `int` en este sistema no tiene al menos 4 bytes. Este tipo de declaraciones se llaman **assertions** o **afirmaciones**.

El mecanismo `static_assert` puede usarse para cualquier cosa que pueda expresarse en **expresiones constantes**. Por ejemplo:

```cpp
constexpr double C = 299792.458; // velocidad de la luz en km/s  
void f(double velocidad) {     
	const double local_max = 160.0/(60*60); // 160 km/h == 160.0/(60*60) km/s     
	static_assert(velocidad < C, "no puedes ir tan rápido"); // error: speed debe ser constante     
	static_assert(local_max < C, "no puedes ir tan rápido"); // OK     
	// ... 
}
```

En general, `static_assert(A, S)` imprime `S` como **mensaje de error del compilador** si `A` no es verdadero.

Los usos más importantes de `static_assert` ocurren al hacer **afirmaciones sobre tipos** usados como parámetros en **programación genérica**.