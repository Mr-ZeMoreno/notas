---
title: "Compilación Separada" 
anterior: "[[Biblioteca/The C++ Programming Language - Bjarne Stroustrup/2 - Un Tour Por C++ - Lo Básico/4 - Modularidad]]"
siguiente: "[[Biblioteca/The C++ Programming Language - Bjarne Stroustrup/2 - Un Tour Por C++ - Lo Básico/4.2 - Namespaces]]"

---
C++ soporta la **compilación separada**, en la que el código del usuario ve solo las **declaraciones** de los tipos y funciones que utiliza. Las **definiciones** de esos tipos y funciones se encuentran en archivos fuente separados y se compilan de manera independiente.

Esto permite **organizar un programa** en un conjunto de fragmentos de código semi-independientes. Tal separación se puede usar para:

- **Minimizar los tiempos de compilación**
- **Hacer cumplir estrictamente la separación** de partes lógicamente distintas del programa, reduciendo así la posibilidad de errores

Una **biblioteca** suele consistir en fragmentos de código compilados por separado (por ejemplo, funciones).

Normalmente, colocamos las **declaraciones que especifican la interfaz de un módulo** en un archivo cuyo nombre indica su uso previsto. Por ejemplo:

```cpp 
// Vector.h:

class Vector { 
public:     
	Vector(int s);     
	double& operator[](int i);     
	int tamano(); 
private:     
	double* elemento; // apunta al primer elemento de un arreglo de tamaño tmn     
	int tmn; 
};
```

Esta declaración se colocaría en un archivo llamado `Vector.h`. Los usuarios incluyen ese archivo, llamado **header file**, para acceder a la interfaz. Por ejemplo:

```cpp
#include "Vector.h"   // obtiene la interfaz de Vector
#include <cmath>      // obtiene la interfaz de las funciones matemáticas de la biblioteca estándar, incluyendo sqrt()

using namespace std;  // hace visibles los miembros de std

double sqrt_suma(Vector& v)
{
	double suma = 0;
	for (int i=0; i!=v.tamano(); ++i)
		sum+=sqrt(v[i]); // suma de las raíces cuadradas
	return sum;
}
```

Para ayudar al compilador a **garantizar consistencia**, el archivo `.cpp` que provee la implementación de `Vector` también **incluye el archivo `.h`** que proporciona su interfaz:

```cpp
// Vector.cpp 

#include "Vector.h" // obtener la interfaz  

Vector::Vector(int s)      
	: elemento{new double[s]}, tmn{s}
{
}  

double& Vector::operator[](int i) {      
	return elemento[i];  
}  

int Vector::tamano() {      
return tmn;  
}
```

El código en `user.cpp` y `Vector.cpp` **comparte la información de la interfaz de `Vector`** presentada en `Vector.h`, pero **los dos archivos son independientes** y pueden compilarse por separado.

Gráficamente, los fragmentos del programa pueden representarse así:

![[Captura de pantalla 2025-08-15 a la(s) 10.16.19 p.m..png]]

Estríctamente hablando, el uso de **compilación separada** no es un tema del lenguaje en sí; es más bien una cuestión de cómo aprovechar mejor una **implementación particular del lenguaje**. Sin embargo, tiene una gran **importancia práctica**.

El mejor enfoque es:

1. **Maximizar la modularidad** del programa.
2. **Representar esa modularidad lógicamente** mediante las características del lenguaje.
3. **Explotar físicamente esa modularidad** a través de archivos separados para lograr una compilación efectiva y modular.